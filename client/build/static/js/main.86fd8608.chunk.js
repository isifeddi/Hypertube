(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/default.001d4596.jpg"},294:function(e,t,a){e.exports=a.p+"static/media/404.45648724.png"},324:function(e,t,a){e.exports=a(513)},460:function(e,t,a){},489:function(e,t){},513:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),i=a(19),o=a(35),l=a(16),u="LOGOUT_USER",m=function(){return{type:"OPEN_NOTIF_SUCCESS"}},d=function(e){return{type:"NEW_NOTIF",data:e}},p=function(){return{type:"GET_NOTIF"}},E=a(66),f=a(5),b=a(144),g=a(32),h=a(605),O=a(563),v=a(564),x=a(565),k=a(572),S=a(76),y=a(571),j=a(566),w=a(282),_=a.n(w),C=a(285),I=a.n(C),R=a(286),N=a.n(R),T=a(573),L=a(574),U=a(575),A=a(67),P=a(568),D=a(562),M=a(201),F=a.n(M),G=a(200),B=a.n(G),W=a(279),H=a.n(W),V=a(280),K=a.n(V),q=a(277),Y=a.n(q),z=a(278),Z=a.n(z),$=a(284),J=a.n($),X=a(567),Q=Object(b.a)((function(e){return{root:{display:"relative",marginBottom:e.spacing(10)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#FFFFFF"},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(i.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),title:{flexGrow:1},notif:{margin:"auto"}}}));var ee=function(e){var t=e.unseenNotif,a=e.user,n=e.handleLogout,c=e.handleNotifListOpen,s=[{text:"Browse",path:"/browse",icon:r.a.createElement(Y.a,{color:"secondary"})},{text:"Search",path:"/search",icon:r.a.createElement(Z.a,{color:"secondary"})},{text:"Profile",path:"/profile",icon:r.a.createElement(B.a,{color:"secondary"})},{text:"Activity",path:"/activity",icon:r.a.createElement(H.a,{color:"secondary"})},{text:"Friends",path:"/chat",icon:r.a.createElement(K.a,{color:"secondary"})}],i=[{text:"Complete Profile",path:"/completeProfile",icon:r.a.createElement(B.a,{color:"secondary"})}],l=[{text:"Se connecter",path:"/login",icon:r.a.createElement(F.a,{color:"secondary"})},{text:"inscription",path:"/register",icon:r.a.createElement(F.a,{color:"secondary"})}],u=[];u=a&&a.token?a&&3===a.complete?s:i:l;var m=Q(),d=Object(g.a)(),p=r.a.useState(!1),b=Object(o.a)(p,2),w=b[0],C=b[1];return r.a.createElement(D.a,{onClickAway:function(){C(!1)}},r.a.createElement("div",{className:m.root},r.a.createElement(O.a,null),r.a.createElement(v.a,{position:"fixed",className:Object(f.a)(m.appBar,Object(E.a)({},m.appBarShift,w))},r.a.createElement(x.a,null,r.a.createElement(j.a,{color:"primary","aria-label":"open drawer",onClick:function(){C(!0)},edge:"start",className:Object(f.a)(m.menuButton,w&&m.hide)},r.a.createElement(_.a,null)),r.a.createElement(S.a,{variant:"h6",color:"secondary",className:m.title},r.a.createElement(A.a,{to:"/browse",style:{textDecoration:"none",color:"inherit"}},"MATCHA")),a&&a.token&&r.a.createElement(j.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",onClick:c,color:"primary",className:m.notif},r.a.createElement(X.a,{badgeContent:t,color:"secondary"},r.a.createElement(J.a,null))),a&&a.token&&r.a.createElement(P.a,{color:"primary",onClick:n},"Logout"))),r.a.createElement(h.a,{className:m.drawer,variant:"persistent",anchor:"left",open:w,classes:{paper:m.drawerPaper}},r.a.createElement("div",{className:m.drawerHeader},r.a.createElement(j.a,{onClick:function(){C(!1)}},"ltr"===d.direction?r.a.createElement(I.a,{color:"primary"}):r.a.createElement(N.a,null))),r.a.createElement(y.a,null),r.a.createElement(k.a,null,u.map((function(e){return r.a.createElement(A.a,{to:e.path,style:{textDecoration:"none",color:"primary"},key:e.text},r.a.createElement(T.a,{button:!0},r.a.createElement(L.a,null,e.icon),r.a.createElement(U.a,{primary:e.text})))}))))))},te=a(309),ae=function(e){var t=e.handleClose,a=e.state,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{id:"custom-menu",anchorEl:a.anchor,keepMounted:!0,open:a.open,onClose:t,elevation:10,PaperProps:{style:{maxHeight:520,width:360,marginTop:50}}},r.a.createElement("div",null,n)))},ne=a(578),re=a(579),ce=a(577),se=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,position:"relative",overflow:"auto"},large:{width:75,height:75,margin:10}}}));function ie(e){var t=se(),a=e.notifList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(k.a,{className:t.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"Notifications"),a.length>0?a.map((function(e,a){return r.a.createElement(T.a,{key:a,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:t.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.by.profilePic)})),r.a.createElement(U.a,null,e.content))})):r.a.createElement("p",null,"No notifications"))))}var oe={logoutAction:function(){return{type:u}},openNotif:function(){return{type:"OPEN_NOTIF"}}},le=Object(l.c)((function(e){return{user:e.user,notifList:e.notif.notifications}}),oe,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleLogout:function(){t.logoutAction()}})}))((function(e){var t=e.openNotif,a=e.user,c=e.handleLogout,s=e.notifList,i=Object(n.useState)({open:!1}),l=Object(o.a)(i,2),u=l[0],m=l[1],d=0;return s&&s.forEach((function(e){0===e.seen&&d++})),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{unseenNotif:d,handleLogout:c,user:a,handleNotifListOpen:function(e){t(),m({open:!0,anchor:e.currentTarget})}}),r.a.createElement(ae,{state:u,handleClose:function(){m({open:!1,anchor:null})}},r.a.createElement(ie,{notifList:s})))})),ue=a(580),me={backgroundColor:"#FFFFFF",borderTop:"3px solid #E7E7E7",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%"},de={display:"block",padding:"20px",height:"60px",width:"100%"},pe=function(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ue.a,{color:"inherit",href:"#"},"MATCHA")," ",(new Date).getFullYear(),".")},Ee=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:de}),r.a.createElement("div",{style:me},r.a.createElement(pe,null)))},fe=a(65),be=a(598),ge=a(111),he=a.n(ge),Oe=a(582),ve=a(166),xe=a(597),ke=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error,i=Object(ve.a)(e,["input","label","meta"]);return r.a.createElement(xe.a,Object.assign({label:a,helperText:c&&s,error:c&&!!s,variant:"outlined",fullWidth:!0},t,i))},Se=a(583),ye=a(203);function je(e){var t=e.msg,a=e.variant,c=Object(ye.useSnackbar)().enqueueSnackbar;return Object(n.useEffect)((function(){t&&a&&t.forEach((function(e){c(e,{variant:a})}))}),[]),r.a.createElement(r.a.Fragment,null)}function we(e){return r.a.createElement(ye.SnackbarProvider,{anchorOrigin:{vertical:"top",horizontal:"right"},style:{marginTop:"49px"},autoHideDuration:4e3,maxSnack:5},r.a.createElement(je,{msg:e.msg,variant:e.variant}))}var _e=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),Ce=function(e){var t=e.handleSubmit,a=e.status,n=e.err,c=_e();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"error"===a&&r.a.createElement(we,{variant:"error",msg:[n]}),"loading"!==a&&r.a.createElement("div",{className:c.paper},r.a.createElement(re.a,{className:c.avatar},r.a.createElement(he.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Sign up"),r.a.createElement("form",{className:c.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(be.a,{name:"firstname",component:ke,label:"Firstname",type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(be.a,{name:"lastname",component:ke,label:"Lastname",type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"username",component:ke,label:"Username",type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"email",component:ke,label:"Email",type:"email",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"password",component:ke,label:"Password",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"confirmPassword",component:ke,label:"ConfirmPassword",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(P.a,{onClick:t,className:c.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))),r.a.createElement(ce.a,{container:!0,justify:"flex-end"},r.a.createElement(ce.a,{item:!0},r.a.createElement(A.a,{to:"/login",style:{textDecoration:"none",color:"#3f51b5"}},"Already have an account? Sign in")))),"loading"===a&&r.a.createElement("div",{className:c.paper,style:{marginTop:"300px"}},r.a.createElement(Se.a,{color:"secondary"})))},Ie=function(e){return{type:"INSCRIPTION_USER_SUCCESS",data:e}},Re=function(e){return{type:"INSCRIPTION_USER_ERROR",error:e}},Ne=a(596),Te={registerAction:function(e){return{type:"INSCRIPTION_USER",data:e}}},Le=Object(l.c)((function(e){return{form:e.form,status:e.register.registerStatus,err:e.register.error}}),Te,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.registerAction(e)}))})}))(Ce),Ue=Object(Ne.a)({form:"register",destroyOnUnmount:!0,validate:function(e){var t={};return["firstname","lastname","username","email","password","confirmPassword"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),e.username&&!/^[a-z0-9_-]{2,20}$/.test(e.username)&&(t.username='Username can contain 2-20 characters, letters (a-z), numbers, "_" and "-"'),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address !"),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain 8-20 characters !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Le),Ae=a(589),Pe=a(584),De=a(585),Me=a(586),Fe=a(587),Ge=a(588),Be=a(595),We=a(604),He=a(114),Ve=a.n(He),Ke=a(116),qe=a.n(Ke),Ye=a(291),ze=a.n(Ye),Ze=a(606),$e=a(101),Je=a.n($e),Xe=a(115),Qe=a.n(Xe),et=a(102),tt=a.n(et),at=a(92),nt=a.n(at),rt=Object(b.a)((function(e){return{root:{padding:"10px",boxShadow:3},card:{maxWidth:400,maxHeight:550,borderRadius:"20px",backgroundColor:"#E6EAEA"},cardMedia:{maxWidth:400,maxHeight:250},cardHeader:{maxWidth:400,maxHeight:150},cardContent:{maxWidth:400,maxHeight:100},cardAction:{maxWidth:400,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15}}}));function ct(e){var t=e.user,a=e.images,n=e.interests,c=e.handleBlock,s=e.handleLike,i=e.handleDislike,o=e.handleViewProfile,l=rt(),u=t.rating;return r.a.createElement("div",{className:l.root},r.a.createElement(Pe.a,{className:l.card},r.a.createElement(De.a,{className:l.cardHeader,action:r.a.createElement(Be.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:l.rating1},r.a.createElement(We.a,{name:"read-only",value:u,precision:.1,readOnly:!0}))),avatar:r.a.createElement(re.a,{"aria-label":"recipe",className:1===t.isOnline?l.avatarON:l.avatarOF}),title:t.firstname+" "+t.lastname,subheader:1===t.isOnline?"Online":"Last seen"+t.lastSignIn}),r.a.createElement(Me.a,{className:l.cardMedia,children:0!==a.length?a.map((function(e){return r.a.createElement("div",{key:e.id},1===e.isProfilePic&&r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:Ve.a,alt:"images"})}),r.a.createElement(Fe.a,{className:l.cardContent},r.a.createElement(S.a,null,"Age : ",t.age)),r.a.createElement(Ge.a,{className:l.cardAction},null===t.like&&r.a.createElement(Ze.a,{title:"Like"},r.a.createElement(j.a,{"aria-label":"Like",onClick:function(e){return s(t.id)}},r.a.createElement(Qe.a,{color:"secondary"}))),"iLike"===t.like&&r.a.createElement(Ze.a,{title:"Unlike"},r.a.createElement(j.a,{"aria-label":"Unlike",onClick:function(e){return i(t.id)}},r.a.createElement(Je.a,{color:"secondary"}))),"heLiked"===t.like&&r.a.createElement(Ze.a,{title:"Like back"},r.a.createElement(j.a,{"aria-label":"Like back",onClick:function(e){return s(t.id)}},r.a.createElement(tt.a,{color:"primary"}))),"match"===t.like&&r.a.createElement(Ze.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(e){return i(t.id)}},r.a.createElement(nt.a,{color:"primary"}))),r.a.createElement(Ze.a,{title:"Block"},r.a.createElement(j.a,{"aria-label":"Block",onClick:function(e){return c(t.id)}},r.a.createElement(qe.a,{color:"secondary"}))),r.a.createElement(Ze.a,{title:"View"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return o(t,a,n)}},r.a.createElement(ze.a,{color:"primary"}))))))}var st=a(607),it=a(292),ot=a(128),lt=a.n(ot),ut=a(129),mt=a.n(ut),dt=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},submit:{margin:e.spacing(3,0,2),width:100,backgroundColor:e.palette.secondary.main},rating:{maxWidth:400},margin:{height:e.spacing(3)},card:{border:"2px solid",borderColor:"#E6EAEA"}}}));function pt(e){var t=dt(),a=e.selectOptions,n=e.handle,c=e.users,s=e.handleSubmit,o=e.handleBlock,l=e.handleLike,u=e.handleDislike,m=e.handleViewProfile,d=e.handleChangeAge,p=e.handleChangeLoc,E=e.handleChangeRating,f=e.handleChangeTags,b=e.handleChangeNbrTags,g=e.age,h=e.nbrTags,O=e.loc,v=e.rating,x={control:function(e,t){return Object(i.a)({},e,{borderColor:(t.isFocused,"#3f51b5"),boxShadow:(t.isFocused,null)})},menu:function(e){return Object(i.a)({},e,{borderRadius:0,marginTop:0,backgroundColor:"#DBDFF"})},menuList:function(e){return Object(i.a)({},e,{padding:0,height:"100px",overflowY:"scroll"})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{className:t.card},r.a.createElement(De.a,{title:"FILTER",align:"center"}),r.a.createElement(Fe.a,null,r.a.createElement(ce.a,{container:!0,item:!0,justify:"center",spacing:2,xs:12},r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement(Ze.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-rating")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement(Ze.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("rating")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(S.a,{id:"range-slider1",gutterBottom:!0,align:"center"},"Rating"),r.a.createElement(st.a,{value:v,onChange:E,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:.2,marks:[{value:0,label:"0"},{value:.5,label:"0.5"},{value:1,label:"1"},{value:1.5,label:"1.5"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"},{value:4,label:"4"},{value:4.5,label:"4.5"},{value:5,label:"5"}],min:0,max:5})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement(Ze.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-age")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement(Ze.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("age")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(S.a,{id:"range-slider2",gutterBottom:!0,align:"center"},"Age"),r.a.createElement(st.a,{value:g,onChange:d,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1,min:18,max:120})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement(Ze.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-distance")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement(Ze.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("distance")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(S.a,{id:"range-slider3",gutterBottom:!0,align:"center"},"Localisation"),r.a.createElement(st.a,{value:O,onChange:p,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1e3,min:0,max:5e4})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement(Ze.a,{title:"DESC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("-nbrTags")}},r.a.createElement(lt.a,{color:"primary"}))),r.a.createElement(Ze.a,{title:"ASC"},r.a.createElement(j.a,{"aria-label":"View",onClick:function(e){return n("nbrTags")}},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement(S.a,{id:"range-slider4",gutterBottom:!0,align:"center"},"Common tags"),r.a.createElement(st.a,{value:h,onChange:b,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1,marks:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],min:0,max:5})),r.a.createElement(ce.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement(S.a,{id:"range-slider5",gutterBottom:!0,align:"center"},"Tags"),r.a.createElement(it.a,{isMulti:!0,isClearable:!1,onChange:f,options:a,styles:x})))),r.a.createElement(Ge.a,null,r.a.createElement(P.a,{type:"submit",onClick:s,color:"primary",className:t.submit,fullWidth:!0,variant:"contained"},"Send"))),r.a.createElement("div",{className:t.root},!0===c.isUsers&&c.users&&c.users.map((function(e){return r.a.createElement(Ae.a,{key:e.user.id},r.a.createElement(ct,{key:e.user.id,user:e.user,images:e.images,interests:e.interests,handleBlock:o,handleLike:l,handleViewProfile:m,handleDislike:u}))})),(!1===c.isUsers||null===c.users||0===c.length)&&r.a.createElement("p",null,"No User Found")))}var Et=function(){return{type:"GET_OPTIONS"}},ft=function(e){return{type:"GET_OPTIONS_SUCCESS",options:e}},bt=function(e){return{type:"CREATE_OPTION",data:{value:e,label:e}}},gt=function(e){return{type:"CREATE_OPTION_SUCCESS",option:e}},ht=function(e){return{type:"CREATE_OPTION_ERROR",error:e}},Ot=function(e){return{type:"ADD_INFO_ERROR",error:e}},vt=function(){return{type:"GET_LOC"}},xt=function(e){return{type:"ADD_LOCATION",loc:e}},kt=function(e){return{type:"ADD_LOCATION_SUCCESS",loc:e}},St=function(e){return{type:"UPDATE_USER_SUCCESS",data:e}},yt=function(e){return{type:"GET_USERS_SUCCESS",data:e}},jt=function(e){return{type:"GET_USERS_ERROR",err:e}},wt=function(e){return{type:"LIKE_USER",liked_user_id:e}},_t=function(e){return{type:"DELETE_USER",id:e}},Ct=function(){return{type:"RESET_STATE"}},It=a(601),Rt=a(570),Nt=Object(b.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"0px",borderRadius:"20px",outline:0}}}));function Tt(e){var t=e.isOpen,a=e.children,n=e.handleClose,c=Nt();return r.a.createElement("div",null,r.a.createElement(It.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:n},r.a.createElement(Rt.a,{in:t},r.a.createElement("div",{className:c.paper},a))))}var Lt=a(159),Ut=a.n(Lt),At=a(94),Pt=a(293),Dt=a.n(Pt),Mt=a(608),Ft=Object(b.a)((function(e){return{card:{maxWidth:320,maxHeight:600,borderRadius:"20px",backgroundColor:"#E6EAEA"},cardMedia:{maxWidth:320,maxHeight:250},cardHeader:{maxWidth:320,maxHeight:100},cardContent:{maxWidth:320,maxHeight:200},cardAction:{marginTop:5,maxWidth:320,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15},chip:{marginRight:"5px"}}}));function Gt(e){var t=e.user,a=e.images,n=e.interests,c=e.handleBlock,s=e.handleLike,i=e.handleReport,o=e.handleDislike,l=Ft(),u=t.rating,m={Swiper:At.c,modules:[At.a,At.b],pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:30};return r.a.createElement(Pe.a,{className:l.card},r.a.createElement(De.a,{className:l.cardHeader,action:r.a.createElement(Be.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:l.rating1},r.a.createElement(We.a,{name:"read-only",value:u,precision:.1,readOnly:!0}))),avatar:r.a.createElement(re.a,{"aria-label":"recipe",className:1===t.isOnline?l.avatarON:l.avatarOF}),title:t.firstname+" "+t.lastname+" @"+t.username,subheader:1===t.isOnline?"Online":"Last seen :"+t.lastSignIn}),r.a.createElement(Me.a,{className:l.cardMedia,children:r.a.createElement(Ut.a,m,0!==a.length?a.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:Ve.a,alt:"images"}))}),r.a.createElement(Fe.a,{className:l.cardContent},r.a.createElement(S.a,null,r.a.createElement("strong",null,"AGE :"),t.age),r.a.createElement(S.a,null,r.a.createElement("strong",null,"GENDER :"),t.gender),r.a.createElement(S.a,null,r.a.createElement("strong",null,"INTERESTED IN :"),t.sexOrient),r.a.createElement(S.a,{component:"span"},r.a.createElement("strong",null,"TAGS :")," ",null!=n&&n.map((function(e,t){return r.a.createElement(Mt.a,{key:t,className:l.chip,label:e.value})}))),r.a.createElement(S.a,null,r.a.createElement("strong",null,"BIO :")," ",t.bio)),r.a.createElement(Ge.a,{className:l.cardAction},null===t.like&&r.a.createElement(Ze.a,{title:"Like"},r.a.createElement(j.a,{"aria-label":"Like",onClick:function(e){return s(t.id)}},r.a.createElement(Qe.a,{color:"secondary"}))),"iLike"===t.like&&r.a.createElement(Ze.a,{title:"Unlike"},r.a.createElement(j.a,{"aria-label":"Unlike",onClick:function(e){return o(t.id)}},r.a.createElement(Je.a,{color:"secondary"}))),"heLiked"===t.like&&r.a.createElement(Ze.a,{title:"Like back"},r.a.createElement(j.a,{"aria-label":"Like back",onClick:function(e){return s(t.id)}},r.a.createElement(tt.a,{color:"primary"}))),"match"===t.like&&r.a.createElement(Ze.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(e){return o(t.id)}},r.a.createElement(nt.a,{color:"primary"}))),r.a.createElement(Ze.a,{title:"Block"},r.a.createElement(j.a,{"aria-label":"Block",onClick:function(e){return c(t.id)}},r.a.createElement(qe.a,{color:"secondary"}))),r.a.createElement(Ze.a,{title:"Report"},r.a.createElement(j.a,{"aria-label":"Report",onClick:function(e){return i(t.id)}},r.a.createElement(Dt.a,{color:"secondary"})))))}var Bt={getOptions:Et,getUsers:function(e,t){return{type:"GET_USERS",filtre:e,indice:t}},blockUser:function(e){return{type:"BLOCK_USER",blocked_user_id:e}},likeUser:wt,dislikeUser:function(e){return{type:"DISLIKE_USER",dislike_user_id:e}},reportUser:function(e){return{type:"REPORT_USER",reported_user_id:e}},viewProfileUser:function(e){return{type:"VIEW_PROFILE_USER",viewed_user_id:e}},resetStateUsers:function(){return{type:"RESET_STATE_USERS"}},sortUsers:function(e,t,a){return{type:"SORT_USERS",methode:e,route:t,indice:a}}},Wt=Object(l.c)((function(e){return{user:e.user,selectOptions:e.addInfo.selectOptions,users:e.users,router:e.router}}),Bt)((function(e){var t=e.getOptions,a=e.selectOptions,c=e.getUsers,s=e.blockUser,i=e.likeUser,l=e.dislikeUser,u=e.reportUser,m=e.users,d=e.viewProfileUser,p=e.router,E=e.resetStateUsers,f=e.sortUsers,b=Object(n.useState)(!1),g=Object(o.a)(b,2),h=g[0],O=g[1],v=Object(n.useState)(!0),x=Object(o.a)(v,2),k=x[0],S=x[1],y=Object(n.useState)(null),j=Object(o.a)(y,2),w=j[0],_=j[1],C=p.location.pathname,I=Object(n.useState)(0),R=Object(o.a)(I,2),N=R[0],T=R[1],L=Object(n.useState)([0,0]),U=Object(o.a)(L,2),A=U[0],P=U[1],D=Object(n.useState)([18,18]),M=Object(o.a)(D,2),F=M[0],G=M[1],B=Object(n.useState)([0,0]),W=Object(o.a)(B,2),H=W[0],V=W[1],K=Object(n.useState)([0,0]),q=Object(o.a)(K,2),Y=q[0],z=q[1],Z=Object(n.useState)(null),$=Object(o.a)(Z,2),J=$[0],X=$[1],Q=Object(n.useState)({open:!1,user:null,images:null,interests:null}),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1],ne=[];J&&J.forEach((function(e){ne.push(e.value)}));var re={tags:ne,nbrTags:Y,rating:A,age:F,loc:H,router:C};Object(n.useEffect)((function(){t(),P([0,0]),G([18,18]),V([0,0]),z([0,0]),X(null),T(0),"/browse"===C?c(null,0):"/search"===C&&E()}),[C]);window.onscroll=function(e){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(!0===h?f(w,C,N+1):!0===k&&c(re,N+1),T(N+1))};var ce=function(e){s(e),ae({open:!1})},se=function(e){l(e),ae({open:!1})},ie=function(e){i(e),ae({open:!1})};return r.a.createElement("div",null,r.a.createElement(pt,{selectOptions:a,users:m,handleBlock:ce,handleLike:ie,handleViewProfile:function(e,t,a){d(e.id),ae({open:!0,user:e,images:t,interests:a})},handleChangeRating:function(e,t){return P(t),t},handleChangeAge:function(e,t){return G(t),t},handleChangeLoc:function(e,t){return V(t),t},handleChangeNbrTags:function(e,t){return z(t),t},rating:A,handleChangeTags:function(e){return X(e),e},loc:H,nbrTags:Y,age:F,handleSubmit:function(){0!==ne.length||0!==Y[0]||0!==Y[1]||0!==A[0]||0!==A[1]||0!==H[0]||0!==H[1]||18!==F[0]||18!==F[1]||"/search"!==C?(S(!0),O(!1),T(0),c(re,0)):E()},handle:function(e){T(0),O(!0),S(!1),_(e),f(e,C,0)},handleDislike:se}),te.open&&r.a.createElement(Tt,{isOpen:te.open,handleClose:function(){ae({open:!1})}},r.a.createElement(Gt,{handleBlock:ce,handleLike:ie,handleReport:function(e){u(e),ae({open:!1})},handleDislike:se,user:te.user,images:te.images,interests:te.interests})))})),Ht=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),Vt=function(e){var t=e.handleSubmit,a=e.status,n=e.errors,c=e.registredStatus,s=Ht();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===c&&r.a.createElement(we,{variant:"success",msg:["Registred successfully, check your e-mail"]}),"errorField"===a&&r.a.createElement(we,{variant:"error",msg:[n]}),r.a.createElement("div",{className:s.paper},r.a.createElement(re.a,{className:s.avatar},r.a.createElement(he.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Sign in"),r.a.createElement("form",{className:s.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"username",label:"Username",type:"text",component:ke})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"password",type:"password",component:ke,rows:"1",label:"Password"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(P.a,{onClick:t,className:s.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))),r.a.createElement(ce.a,{container:!0,justify:"flex-end"},r.a.createElement(ce.a,{item:!0,xs:!0},r.a.createElement(A.a,{to:"/forgotPassword",style:{textDecoration:"none",color:"#3f51b5"}},"Forgot password?")),r.a.createElement(ce.a,{item:!0},r.a.createElement(A.a,{to:"/register",style:{textDecoration:"none",color:"#3f51b5"}},"Don't have an account? Sign Up")))))},Kt={loginAction:function(e){return{type:"LOGIN_USER",data:e}}},qt=Object(l.c)((function(e){return{form:e.form,status:e.login.status,errors:e.login.error,token:e.user,registredStatus:e.register.registerStatus}}),Kt,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.loginAction(e)}))})}))(Vt),Yt=Object(Ne.a)({form:"login",destroyOnUnmount:!0,validate:function(e){var t={};return["username","password"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),t}})(qt),zt=a(294),Zt=a.n(zt),$t=function(){return r.a.createElement("img",{src:Zt.a,style:{width:"97%",height:"100%"},alt:"NotFoundPage"})},Jt=function(e){return{type:"SEND_EMAIL_ERROR",error:e}},Xt=function(e){return{type:"RESET_PASSWORD_ERROR",error:e}},Qt=a(295),ea=a.n(Qt),ta=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),aa=function(e){var t=ta(),a=e.handleSubmit,n=e.status,c=e.errors;return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===n&&r.a.createElement(we,{variant:"success",msg:["Please check your e-mail"]}),"error"===n&&r.a.createElement(we,{variant:"error",msg:[c]}),"loading"!==n&&r.a.createElement("div",{className:t.paper},r.a.createElement(re.a,{className:t.avatar},r.a.createElement(ea.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Send reset link"),r.a.createElement("form",{className:t.form},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"email",component:ke,label:"Email",type:"email",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(P.a,{className:t.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",onClick:a},"Submit")))),"loading"===n&&r.a.createElement("div",{className:t.paper,style:{marginTop:"300px"}},r.a.createElement(Se.a,{color:"secondary"})))},na={sendEmail:function(e){return{type:"SEND_EMAIL",data:e}}},ra=Object(l.c)((function(e){return{form:e.form,status:e.resetPassword.status,errors:e.resetPassword.errors}}),na,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.sendEmail(e)}))})}))(aa),ca=Object(Ne.a)({form:"ForgotPassword",validate:function(e){var t={};return["email"].forEach((function(a){e[a]||(t[a]="Required!")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t}})(ra),sa=a(68),ia=a(79),oa=a(69),la=a(89),ua=a(90),ma=a(297),da=a.n(ma),pa=a(296),Ea=a.n(pa),fa=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})),ba=function(e){var t=fa();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"loading"!==e.status&&r.a.createElement("div",{className:t.paper},r.a.createElement(S.a,{variant:"h4",color:"primary"},"Email confirmation"),"error"===e.status&&r.a.createElement(S.a,{variant:"h6",color:"error"},r.a.createElement(Ea.a,null)," There was an error, please retry."),"success"===e.status&&r.a.createElement(S.a,{variant:"h6",color:"inherit"},r.a.createElement(da.a,null)," Email verified successfully.",r.a.createElement("br",null),"You can now ",r.a.createElement(A.a,{to:"/login",style:{textDecoration:"none",color:"#3f51b5"}},"Login"))),"loading"===e.status&&r.a.createElement("div",{className:t.paper,style:{marginTop:"300px"}},r.a.createElement(Se.a,{color:"secondary"})))},ga=function(e){function t(){var e,a;Object(sa.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(oa.a)(this,(e=Object(la.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props.match.params.token;a.props.emailConfirm(e)},a}return Object(ua.a)(t,e),Object(ia.a)(t,[{key:"render",value:function(){return r.a.createElement(ba,{status:this.props.status})}}]),t}(n.Component),ha={emailConfirmation:function(e){return{type:"EMAIL_CONFIRMATION",token:e}}},Oa=Object(l.c)((function(e){return{status:e.register.emailConfirmation}}),ha,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{emailConfirm:function(e){t.emailConfirmation(e)}})}))(ga),va=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),xa=function(e){var t=e.handleSubmit,a=e.status,n=e.resetPasswordStatus,c=e.resetError,s=va();return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===n&&r.a.createElement(we,{variant:"success",msg:["Your password has been reset successfully! You will be redirected to login"]}),"error"===n&&r.a.createElement(we,{variant:"error",msg:[c+" You will be redirected to login"]}),"loading"!==a&&r.a.createElement("div",{className:s.paper},r.a.createElement(re.a,{className:s.avatar},r.a.createElement(he.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Reset password"),r.a.createElement("form",{className:s.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"password",component:ke,label:"Password",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(be.a,{name:"confirmPassword",component:ke,label:"ConfirmPassword",type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(P.a,{onClick:t,className:s.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit"))))),"loading"===a&&r.a.createElement("div",{className:s.paper,style:{marginTop:"300px"}},r.a.createElement(Se.a,{color:"secondary"})))},ka={resetPasswordAction:function(e){return{type:"RESET_PASSWORD",data:e}}},Sa=Object(l.c)((function(e){return{form:e.form,status:e.resetPassword.status,resetPasswordStatus:e.resetPassword.status,resetError:e.resetPassword.error}}),ka,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){var n={form:e,token:a.match.params.token};t.resetPasswordAction(n)}))})}))(xa),ya=Object(Ne.a)({form:"resetPassword",destroyOnUnmount:!0,validate:function(e){var t={};return["password","confirmPassword"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain 8-20 characters !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Sa),ja=a(206),wa=a(609),_a=a(592),Ca=a(602),Ia=a(581),Ra=a(161),Na=a(600),Ta=function(e){var t=e.input,a=e.meta,n=e.options,c=a.touched&&a.error;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("label",{key:e.value},r.a.createElement(Na.a,Object.assign({},t,{checked:e.value===t.value,value:e.value})),e.title)})),r.a.createElement("br",null),c&&r.a.createElement("span",{style:{fontSize:"12px",color:"#f44336"}},a.error))},La=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),Ua=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error;return r.a.createElement(xe.a,Object.assign({},t,{type:"date",label:a,error:c&&!!s,helperText:c&&s,fullWidth:!0,InputLabelProps:{shrink:!0}}))},Aa=function(e){var t=La(),a=e.handleSubmit,n=e.selectLoading,c=e.selectOptions,s=e.selectError,i=e.createOption,o=function(e){i(e)};return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Additional infos"),s&&r.a.createElement(we,{variant:"error",msg:s}),r.a.createElement("form",{className:t.form},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ia.a,{component:"legend"},"Gender"),r.a.createElement(be.a,{component:Ta,name:"gender",required:!0,options:[{title:"Male",value:"male"},{title:"Female",value:"female"}]})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ia.a,{component:"legend"},"Match with"),r.a.createElement(be.a,{component:Ta,name:"sexOrient",required:!0,options:[{title:"Men ",value:"men"},{title:"Women",value:"women"},{title:"Both",value:"both"}]})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ia.a,{component:"legend"},"Birthday"),r.a.createElement(be.a,{name:"birthday",component:Ua})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ia.a,{component:"legend"},"Bio"),r.a.createElement(be.a,{name:"bio",component:ke,type:"text",rows:"4",variant:"outlined"})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Ia.a,{component:"legend"},"Interests"),r.a.createElement(be.a,{name:"interests",component:function(e){var t=e.input,a=e.meta,s=a.touched,i=a.error;return r.a.createElement("div",null,r.a.createElement(Ra.a,Object.assign({},t,{isMulti:!0,isDisabled:n,isLoading:n,isClearable:!1,options:c,onBlur:function(){return t.onBlur(t.value)},onChange:function(e){t.onChange(e)},onCreateOption:o})),r.a.createElement("div",null,s&&i&&r.a.createElement("div",{style:{fontSize:"12px",color:"rgb(244, 67, 54)"}},i)))}})),r.a.createElement(ce.a,{container:!0,direction:"row",item:!0,xs:12},r.a.createElement(ce.a,{item:!0,xs:9}),r.a.createElement(ce.a,{item:!0,container:!0,alignItems:"flex-end",xs:3},r.a.createElement(P.a,{onClick:a,className:t.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Next")))))))},Pa=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n},Da={addInfo:function(e,t){return{type:"ADD_INFO",data:e,id:t}},createOption:bt},Ma=Object(l.c)((function(e){return{values:e.form.values,selectOptions:e.addInfo.selectOptions,selectLoading:e.addInfo.selectLoading,selectError:e.addInfo.error,user:e.user}}),Da,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(a){t.addInfo(a,e.user.id)}))})}))(Aa),Fa=Object(Ne.a)({form:"addInfo",destroyOnUnmount:!0,validate:function(e){var t={};["gender","sexOrient","birthday","bio"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),["interests"].forEach((function(a){e[a]||(t[a]="Required !")})),e.bio&&!/^.{1,200}$/.test(e.bio)&&(t.bio="maximum 200 characters"),e.birthday&&!/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(e.birthday)&&(t.birthday="Invalid date !");var a=Pa(e.birthday);return a<18&&(t.birthday="Come back when you're 18 ;)"),a>120&&(t.birthday="Invalid age !"),t}})(Ma),Ga=Fa=Object(l.c)((function(e){return{initialValues:{gender:e.user.gender,sexOrient:e.user.sexOrient,birthday:e.user.birthday,bio:e.user.bio,interests:e.user.interests}}}))(Fa),Ba=a(298),Wa=a.n(Ba),Ha=a(590),Va=a(591),Ka=a(300),qa=a.n(Ka),Ya=a(299),za=a.n(Ya),Za=Object(b.a)((function(e){return{card:{height:150,position:"center"},input:{display:"none"},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:500,height:450},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},delete:{background:"none"},add:{display:"none"}}})),$a=function(e){return!(null!=e&&e.length>4)},Ja=function(e){var t=e.fileChangedHandler,a=e.images,n=e.deletePicture,c=e.setProfilePicture,s=Za();return r.a.createElement(Oe.a,null,r.a.createElement(O.a,null),r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement("div",{className:!1===$a(a.images)?s.add:""},r.a.createElement("input",{accept:"image/*",className:s.input,id:"icon-button-file",type:"file",onChange:t}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(j.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Wa.a,{color:"primary",style:{fontSize:70}}))))),r.a.createElement("div",{className:s.root},r.a.createElement(Ae.a,{cellHeight:180,className:s.gridList},a.isImages&&a.images.map((function(e){return r.a.createElement(Ha.a,{key:e.id},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:"photos"}),r.a.createElement(Va.a,{actionPosition:"left",className:s.titleBar,title:1===e.isProfilePic&&"Profile picture",actionIcon:r.a.createElement(Ze.a,{title:"set profile pic"},r.a.createElement(j.a,{"aria-label":"profilePic",onClick:function(t){return c(e.id)}},r.a.createElement(za.a,{color:"secondary"})))}),r.a.createElement(Va.a,{className:s.delete,titlePosition:"top",actionIcon:a.images.length>1&&r.a.createElement(Ze.a,{title:"delete pic"},r.a.createElement(j.a,{"aria-label":"deletePic",onClick:function(t){return n(e.id,e.isProfilePic)}},r.a.createElement(qa.a,{color:"secondary"})))}))})))))},Xa=function(e){return{type:"GET_IMAGES",user_id:e}},Qa={sendImages:function(e){return{type:"SEND_IMAGES",data:e}},delImages:function(e){return{type:"DEL_IMAGES",img:e}},setProfilePic:function(e){return{type:"SET_PROFILE_PIC",imgId:e}}},en=Object(l.c)((function(e){return{user:e.user,images:e.images}}),Qa)((function(e){var t=e.user,a=e.images,n=e.sendImages,c=e.delImages,s=e.setProfilePic;return r.a.createElement("div",null,r.a.createElement(Ja,{fileChangedHandler:function(e){var a=e.target.files[0],r=new FormData;r.append("files",a),r.append("user_id",t.id),n(r),e.target.value=null},images:a,deletePicture:function(e,t){c({imgId:e,isProfilePic:t})},setProfilePicture:function(e){s(e)}}))})),tn=a(162),an=a.n(tn),nn=a(163),rn=a.n(nn),cn=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{height:"40vh",width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),sn=function(e){var t=e.userL,a=e.setLocation,c=e.isMarker,s=cn(),i=Object(n.useState)(t),l=Object(o.a)(i,2),u=l[0],m=l[1];return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:s.paper},r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Localisation"),r.a.createElement(S.a,{color:"inherit"}," Click to set your location."),r.a.createElement("div",{className:s.form},r.a.createElement(an.a,{bootstrapURLKeys:{key:"AIzaSyBeEUF7eMgjoDA6n4pfupjcBByH11i7yY8"},center:{lat:t.lat,lng:t.lng},defaultZoom:13,onClick:function(e){var t=e.lat,n=e.lng;m({lat:t,lng:n}),a({lat:t,lng:n})}},u&&!0===c&&r.a.createElement((function(e){var t=e.text;return r.a.createElement("div",null,t)}),{lat:u.lat,lng:u.lng,text:r.a.createElement(rn.a,{color:"secondary"})})))))},on=function(e){function t(){return Object(sa.a)(this,t),Object(oa.a)(this,Object(la.a)(t).apply(this,arguments))}return Object(ua.a)(t,e),Object(ia.a)(t,[{key:"componentDidMount",value:function(){this.props.getLoc()}},{key:"render",value:function(){var e=this,t={lat:this.props.user.lat,lng:this.props.user.long};return this.props.user.lat?r.a.createElement(sn,{isMarker:this.props.user.marker,setLocation:function(t){var a=t.lat,n=t.lng;e.props.addLocationSuccess({marker:!0,lat:a,lng:n})},userL:t}):null}}]),t}(n.Component),ln={getLoc:vt,addLocationSuccess:kt},un=Object(l.c)((function(e){return{user:e.user}}),ln)(on),mn=Object(b.a)((function(e){return{layout:Object(E.a)({width:"auto",minWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(8),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{minWidth:0,padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},loading:{display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main},back:{margin:e.spacing(2,0,2),backgroundColor:e.palette.grey}}})),dn=["Additional infos","Pictures","Localisation"];var pn=function(e){var t=e.handleBack,a=e.handleNext,n=e.user,c=e.images,s=n.complete,i=mn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null),"loading"!==s&&r.a.createElement("main",{className:i.layout},r.a.createElement(ja.a,{className:i.paper},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"secondary"},"Complete profile"),r.a.createElement(wa.a,{activeStep:s,className:i.stepper},dn.map((function(e){return r.a.createElement(_a.a,{key:e},r.a.createElement(Ca.a,null,e))}))),r.a.createElement(r.a.Fragment,null,s===dn.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{variant:"h5",gutterBottom:!0},"Success"),r.a.createElement(S.a,{variant:"subtitle1"},"You completed your profile successfully.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(Ga,null);case 1:return r.a.createElement(en,null);case 2:return r.a.createElement(un,null);default:throw new Error("Unknown step")}}(s))),(1===s||2===s)&&r.a.createElement(ce.a,{container:!0,direction:"row",item:!0,xs:12},r.a.createElement(ce.a,{item:!0,xs:3},r.a.createElement(P.a,{className:i.back,fullWidth:!0,onClick:t,variant:"contained",type:"submit",color:"default"},"Back")),r.a.createElement(ce.a,{item:!0,xs:6}),r.a.createElement(ce.a,{item:!0,container:!0,alignItems:"flex-end",xs:3},!0===c.isImages&&r.a.createElement(P.a,{className:i.submit,onClick:a,fullWidth:!0,variant:"contained",type:"submit",color:"primary"},"Next"))))),"loading"===s&&r.a.createElement("div",{className:i.loading},r.a.createElement(Se.a,{color:"secondary"})))},En={getOptions:Et,getImages:Xa,decStepper:function(){return{type:"DEC_STEPPER"}},incStepper:function(){return{type:"INC_STEPPER"}},addLocation:xt},fn=Object(l.c)((function(e){return{user:e.user,images:e.images}}),En)((function(e){var t=e.user,a=e.images,c=e.getImages,s=e.getOptions,i=e.decStepper,o=e.incStepper,l=e.addLocation;Object(n.useEffect)((function(){t&&(s(),c(t.id))}),[]);return r.a.createElement(pn,{handleBack:function(){i()},handleNext:function(){2===t.complete&&l({lat:t.lat,lng:t.long}),o()},user:t,images:a})})),bn=a(599),gn=a(593),hn=a(303),On=a.n(hn),vn=a(301),xn=a.n(vn),kn=a(167),Sn=a(302),yn=a.n(Sn),jn=a(304),wn=a.n(jn),_n=Object(b.a)((function(e){return{root:{padding:"10px",boxShadow:3},card:{maxWidth:400,maxHeight:600,borderRadius:"20px",backgroundColor:"#E6EAEA"},cardMedia:{maxWidth:400,maxHeight:250},cardHeader:{maxWidth:400,maxHeight:100},cardContent:{maxWidth:400,maxHeight:200},cardAction:{maxWidth:400,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15},chip:{marginRight:"5px"}}}));function Cn(e){var t=e.user,a=e.images,n=e.interests,c=_n(),s=t.rating,i={Swiper:At.c,modules:[At.a,At.b],pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:30};return r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(Pe.a,{className:c.card},r.a.createElement(De.a,{className:c.cardHeader,action:r.a.createElement(Be.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:c.rating1},r.a.createElement(We.a,{name:"read-only",value:s,precision:.5,readOnly:!0}))),avatar:r.a.createElement(re.a,{"aria-label":"recipe",className:1===t.isOnline?c.avatarON:c.avatarOF}),title:t.firstname+" "+t.lastname+" @"+t.username,subheader:1===t.isOnline?"Online":"Offline"+t.lastSignIn}),r.a.createElement(Me.a,{className:c.cardMedia,children:r.a.createElement(Ut.a,i,a.isImages?a.images.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:Ve.a,alt:"images"}))}),r.a.createElement(Fe.a,{className:c.cardContent},r.a.createElement(S.a,null,r.a.createElement("strong",null,"AGE :"),t.age),r.a.createElement(S.a,null,r.a.createElement("strong",null,"GENDER :"),t.gender),r.a.createElement(S.a,null,r.a.createElement("strong",null,"INTERESTED IN :"),t.sexOrient),r.a.createElement(S.a,{component:"span"},r.a.createElement("strong",null,"TAGS :")," ",null!=n&&n.map((function(e,t){return r.a.createElement(Mt.a,{key:t,className:c.chip,label:e.value})}))),r.a.createElement(S.a,null,r.a.createElement("strong",null,"BIO :")," ",t.bio))))}var In=Object(l.c)((function(e){return{user:e.user,images:e.images}}),{})((function(e){var t=e.user,a=e.images;return r.a.createElement("div",null,r.a.createElement(Cn,{user:t,images:a,interests:t.interests}))})),Rn=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{height:"40vh",width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),Nn=function(e){var t=e.userL,a=e.setLocation,c=e.isMarker,s=e.handleSubmit,i=Rn(),l=Object(n.useState)(t),u=Object(o.a)(l,2),m=u[0],d=u[1];return r.a.createElement(Oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:i.paper},r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Localisation"),r.a.createElement(S.a,{color:"inherit"}," Click to set your location."),r.a.createElement("div",{className:i.form},r.a.createElement(an.a,{bootstrapURLKeys:{key:"AIzaSyBeEUF7eMgjoDA6n4pfupjcBByH11i7yY8"},center:{lat:t.lat,lng:t.lng},defaultZoom:13,onClick:function(e){var t=e.lat,n=e.lng;d({lat:t,lng:n}),a({lat:t,lng:n})}},m&&!0===c&&r.a.createElement((function(e){var t=e.text;return r.a.createElement("div",null,t)}),{lat:m.lat,lng:m.lng,text:r.a.createElement(rn.a,{color:"secondary"})}))),r.a.createElement(P.a,{onClick:s,className:i.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))},Tn=function(e){function t(){return Object(sa.a)(this,t),Object(oa.a)(this,Object(la.a)(t).apply(this,arguments))}return Object(ua.a)(t,e),Object(ia.a)(t,[{key:"componentDidMount",value:function(){this.props.getLoc()}},{key:"render",value:function(){var e=this,t={lat:this.props.user.lat,lng:this.props.user.long};return this.props.user.lat?r.a.createElement(Nn,{isMarker:this.props.user.marker,setLocation:function(t){var a=t.lat,n=t.lng;e.props.addLocationSuccess({marker:!0,lat:a,lng:n})},userL:t,handleSubmit:function(){e.props.addLocation({lat:e.props.user.lat,lng:e.props.user.long})}}):null}}]),t}(n.Component),Ln={getLoc:vt,addLocationSuccess:kt,addLocation:xt},Un=Object(l.c)((function(e){return{user:e.user}}),Ln)(Tn),An=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),Pn=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error;return r.a.createElement(xe.a,Object.assign({},t,{type:"date",label:a,error:c&&!!s,helperText:c&&s,fullWidth:!0,InputLabelProps:{shrink:!0}}))},Dn=function(e){var t=e.handleSubmit,a=e.selectLoading,n=e.selectOptions,c=e.selectError,s=e.createOption,i=An(),o=function(e){s(e)};return r.a.createElement("div",null,c&&r.a.createElement(we,{msg:c,variant:"error"}),r.a.createElement("form",null,r.a.createElement(ce.a,{container:!0,justify:"center",spacing:2},r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Firstname"),r.a.createElement(be.a,{name:"firstname",component:ke,type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Lastname"),r.a.createElement(be.a,{name:"lastname",component:ke,type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Username"),r.a.createElement(be.a,{name:"username",component:ke,type:"text",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Email"),r.a.createElement(be.a,{name:"email",component:ke,type:"email",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Gender"),r.a.createElement(be.a,{component:Ta,name:"gender",required:!0,options:[{title:"Male",value:"male"},{title:"Female",value:"female"}]})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Birthday"),r.a.createElement(be.a,{name:"birthday",component:Pn})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Match with"),r.a.createElement(be.a,{component:Ta,name:"sexOrient",required:!0,options:[{title:"Men ",value:"men"},{title:"Women",value:"women"},{title:"Both",value:"both"}]})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Interests"),r.a.createElement(be.a,{name:"interests",component:function(e){var t=e.input,c=e.meta,s=c.touched,i=c.error;return r.a.createElement("div",null,r.a.createElement(Ra.a,Object.assign({},t,{isMulti:!0,isDisabled:a,isLoading:a,isClearable:!1,options:n,onBlur:function(){return t.onBlur(t.value)},onChange:function(e){t.onChange(e)},onCreateOption:o})),r.a.createElement("div",null,s&&i&&r.a.createElement("div",{style:{fontSize:"12px",color:"rgb(244, 67, 54)"}},i)))}})),r.a.createElement(ce.a,{item:!0,xs:10},r.a.createElement(Ia.a,{component:"legend"},"Bio"),r.a.createElement(be.a,{name:"bio",component:ke,type:"text",rows:"4",variant:"outlined"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"New password"),r.a.createElement(be.a,{name:"password",component:ke,type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,xs:5},r.a.createElement(Ia.a,{component:"legend"},"Confirm new password"),r.a.createElement(be.a,{name:"confirmPassword",component:ke,type:"password",rows:"1"})),r.a.createElement(ce.a,{item:!0,container:!0,justify:"center",xs:3},r.a.createElement(P.a,{onClick:t,className:i.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))))},Mn=function(e){return r.a.createElement(Dn,{handleSubmit:e.handleSubmit,selectLoading:e.selectLoading,selectOptions:e.selectOptions,selectError:e.selectError,createOption:e.createOption})},Fn={editInfo:function(e){return{type:"EDIT_INFO",data:e}},createOption:bt};Mn=Object(l.c)((function(e){return{user:e.user,selectOptions:e.addInfo.selectOptions,selectLoading:e.addInfo.selectLoading,selectError:e.addInfo.error}}),Fn,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.editInfo(e),delete e.password,delete e.confirmPassword}))})}))(Mn),Mn=Object(Ne.a)({form:"profileInfo",validate:function(e){var t={};["firstname","lastname","username","email","gender","birthday","sexOrient","bio"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),["interests"].forEach((function(a){e[a]||(t[a]="Required !")})),e.bio&&!/^.{1,200}$/.test(e.bio)&&(t.bio="maximum 200 characters"),e.birthday&&!/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(e.birthday)&&(t.birthday="Invalid date !");var a=Pa(e.birthday);return a<18&&(t.birthday="Come back when you're 18 ;)"),a>120&&(t.birthday="Invalid age !"),e.username&&!/^[a-z0-9_-]{2,20}$/.test(e.username)&&(t.username='Username can contain 2-20 characters, letters (a-z), numbers, "_" and "-"'),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address !"),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain at least 8 characters !"),"password"in e&&!e.confirmPassword&&(t.confirmPassword="Required !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Mn);var Gn=Mn=Object(l.c)((function(e){return{initialValues:{firstname:e.user.firstname,lastname:e.user.lastname,username:e.user.username,email:e.user.email,gender:e.user.gender,birthday:e.user.birthday,sexOrient:e.user.sexOrient,interests:e.user.interests,bio:e.user.bio}}}))(Mn),Bn=Object(b.a)((function(e){return{root1:{flexGrow:1},card:{maxWidth:500},avatar:{backgroundColor:kn.a[500],width:150,height:150},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450}}}));function Wn(e){var t=e.children,a=e.value,n=e.index,c=Object(ve.a)(e,["children","value","index"]);return r.a.createElement(S.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(Be.a,{p:3},t))}function Hn(){var e=r.a.useState(0),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Bn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(ce.a,{item:!0,xs:12,sm:12},r.a.createElement(ja.a,{square:!0,className:c.root1},r.a.createElement(bn.a,{value:a,onChange:function(e,t){n(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"secondary"},r.a.createElement(gn.a,{icon:r.a.createElement(xn.a,null),label:"INFOS",id:"0"}),r.a.createElement(gn.a,{icon:r.a.createElement(yn.a,null),label:"PHOTOS",id:"1"}),r.a.createElement(gn.a,{icon:r.a.createElement(On.a,null),label:"LOCALISATION",id:"2"}),r.a.createElement(gn.a,{icon:r.a.createElement(wn.a,null),label:"VIEW PROFILE",id:"3"})),r.a.createElement(Wn,{value:a,index:0},r.a.createElement(Gn,null)),r.a.createElement(Wn,{value:a,index:1},r.a.createElement(en,null)),r.a.createElement(Wn,{value:a,index:2},r.a.createElement(Un,null)),r.a.createElement(Wn,{value:a,index:3},r.a.createElement(In,null))))))}var Vn={getImages:Xa,getOptions:Et},Kn=Object(l.c)((function(e){return{user:e.user}}),Vn)((function(e){var t=e.user,a=e.getImages,c=e.getOptions;return Object(n.useEffect)((function(){t&&(c(),a(t.id))}),[]),r.a.createElement("div",null,r.a.createElement(Hn,null))})),qn=a(594),Yn=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,position:"relative",overflow:"auto",maxHeight:550,borderRadius:"15px",backgroundColor:"#E6EAEA",margin:"10px"},large:{width:75,height:75,margin:10}}}));function zn(e){var t=e.likedByList,a=e.viewProfileList,n=e.blockList,c=e.handleLike,s=e.handleDeblock,i=e.likeList,o=e.handleDislike,l=Yn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,justify:"center"},r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"You blocked"),!0===n.isUsers&&n.users.map((function(e){return r.a.createElement(T.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(U.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(qn.a,null,r.a.createElement(Ze.a,{title:"Unblock"},r.a.createElement(j.a,{"aria-label":"unblock",onClick:function(t){return s(e.id)}},r.a.createElement(qe.a,{color:"secondary"})))))}))),r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"You like"),!0===i.isUsers&&i.users.map((function(e){return r.a.createElement(T.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(U.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(qn.a,null,"iLike"===e.like&&r.a.createElement(Ze.a,{title:"Unlike"},r.a.createElement(j.a,{"aria-label":"Unlike",onClick:function(t){return o(e.id)}},r.a.createElement(Je.a,{color:"secondary"}))),"match"===e.like&&r.a.createElement(Ze.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(t){return o(e.id)}},r.a.createElement(nt.a,{color:"primary"})))))}))),r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"You're liked by"),!0===t.isUsers&&t.users.map((function(e){return r.a.createElement(T.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(U.a,{id:e.id},e.firstname+" "+e.lastname),r.a.createElement(qn.a,null,"heLiked"===e.like&&r.a.createElement(Ze.a,{title:"Like back"},r.a.createElement(j.a,{"aria-label":"Like back",onClick:function(t){return c(e.id)}},r.a.createElement(tt.a,{color:"primary"}))),"match"===e.like&&r.a.createElement(Ze.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(t){return o(e.id)}},r.a.createElement(nt.a,{color:"primary"})))))}))),r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"Profile views"),!0===a.isUsers&&a.users.map((function(e){return r.a.createElement(T.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(U.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(qn.a,null,null===e.like&&r.a.createElement(Ze.a,{title:"Like"},r.a.createElement(j.a,{"aria-label":"Like",onClick:function(t){return c(e.id)}},r.a.createElement(Qe.a,{color:"secondary"}))),"iLike"===e.like&&r.a.createElement(Ze.a,{title:"Unlike"},r.a.createElement(j.a,{"aria-label":"Unlike",onClick:function(t){return o(e.id)}},r.a.createElement(Je.a,{color:"secondary"}))),"heLiked"===e.like&&r.a.createElement(Ze.a,{title:"Like back"},r.a.createElement(j.a,{"aria-label":"Like back",onClick:function(t){return c(e.id)}},r.a.createElement(tt.a,{color:"primary"}))),"match"===e.like&&r.a.createElement(Ze.a,{title:"Unmatch"},r.a.createElement(j.a,{"aria-label":"Unmatch",onClick:function(t){return o(e.id)}},r.a.createElement(nt.a,{color:"primary"})))))})))))}var Zn={getBlockUser:function(){return{type:"GET_BLOCK_USER"}},deblockUser:function(e){return{type:"DEBLOCK_USER",deblocked_user_id:e}},getLikeUser:function(){return{type:"GET_LIKE_USER"}},dislikeUserAct:function(e){return{type:"DISLIKE_USER_ACT",dislike_user_id:e}},likeUser:wt,getViewProfileList:function(){return{type:"GET_VP_LIST"}},getLikedBy:function(){return{type:"GET_LIKED_BY"}}},$n=Object(l.c)((function(e){return{user:e.user,blockList:e.blockList,likeList:e.likeList,viewProfileList:e.viewProfileList,likedByList:e.likedByList}}),Zn)((function(e){var t=e.getLikedBy,a=e.likedByList,c=e.likeUser,s=e.viewProfileList,i=e.getViewProfileList,o=e.getBlockUser,l=e.blockList,u=e.deblockUser,m=e.getLikeUser,d=e.dislikeUserAct,p=e.likeList;Object(n.useEffect)((function(){i(),o(),m(),t()}),[]);return r.a.createElement("div",null,r.a.createElement(zn,{likedByList:a,viewProfileList:s,blockList:l,handleLike:function(e){c(e)},handleDeblock:function(e){u(e)},handleDislike:function(e){d(e)},likeList:p}))})),Jn=(a(460),function(e){var t=e.handleSelectConversation,a=e.selected,n=e.conversations;return r.a.createElement("div",{id:"sidepanel"},r.a.createElement("div",{id:"contacts"},r.a.createElement("ul",null,a&&n.map((function(e){return r.a.createElement("li",{onClick:function(){return t(e.id)},key:e.id,className:a.id===e.id?"contact active":"contact"},r.a.createElement("div",{className:"wrap"},r.a.createElement("span",{className:1===e.isOnline?"contact-status online":"contact-status offline"}),r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:e.lastname}),r.a.createElement("div",{className:"meta"},r.a.createElement("p",{className:"name"},e.firstname," ",e.lastname))))})))))}),Xn=function(e){var t=e.selected;return r.a.createElement("div",{className:"contact-profile"},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(t.path),alt:t.lastname}),r.a.createElement("p",null,t.firstname," ",t.lastname))},Qn=function(e){var t=e.selected;return r.a.createElement("div",{className:"messages"},r.a.createElement("ul",null,t.messages&&t.messages.length>0&&t.messages.map((function(e){return r.a.createElement("li",{key:Math.random(),className:e.isMyMessage?"sent":"replies"},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:e.image}),r.a.createElement("p",null,e.message))}))))},er=function(e){var t=e.handleSendMessage,a=e.selected,c=e.dis,s=Object(n.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1];return r.a.createElement("div",{className:"message-input"},r.a.createElement("div",{className:"wrap"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),l.length>255)u("");else if(l){t(a.id,l);var n=document.querySelector(".messages"),r=n.scrollHeight;n.scrollTo(0,r),u("")}document.querySelector(".message-input input").value=null}},r.a.createElement("input",{onChange:function(e){return u(e.target.value)},type:"text",placeholder:"Write your message...",disabled:c}),r.a.createElement("button",{type:"submit",className:"submit"},"Send"))))},tr=function(e){var t=e.handleSendMessage,a=e.selected,n=e.dis;return r.a.createElement("div",{className:"content"},Object.keys(a).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Xn,{selected:a}),r.a.createElement(Qn,{selected:a}),r.a.createElement(er,{dis:n,handleSendMessage:t,selected:a})):r.a.createElement("p",{id:"selectCon"},"Select a conversation"))},ar=function(e){var t=e.handleSelectConversation,a=e.err,n=e.handleSendMessage,c=e.selected,s=e.conversations,i=!1;return a&&(i=!0),r.a.createElement("div",{id:"frame"},a&&r.a.createElement(we,{variant:"error",msg:[a]}),s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Jn,{handleSelectConversation:t,selected:c,conversations:s}),r.a.createElement(tr,{dis:i,handleSendMessage:n,selected:c,conversations:s})):r.a.createElement("p",{id:"noMatches"},"No matches"))},nr=function(e){return{type:"GET_CONVERSATIONS_SUCCESS",data:e}},rr=function(e,t){return{type:"LOAD_MESSAGES_SUCCESS",data:e,conv_id:t}},cr=function(e,t){return{type:"SEND_MESSAGE_ERROR",conv_id:e,err:t}},sr=a(305),ir=a.n(sr)()("http://localhost:5000"),or={selectConversation:function(e){return{type:"SELECT_CONVERSATION",id:e}},sendMessage:function(e,t,a){return{type:"SEND_MESSAGE",id:e,profilePic:t,message:a}},sendMsgSuccess:function(e,t,a){return{type:"SEND_MESSAGE_SUCCESS",id:e,profilePic:t,message:a}},getConversations:function(){return{type:"GET_CONVERSATIONS"}},loadMessages:function(e){return{type:"LOAD_MESSAGES",conv_id:e}},reset:Ct,receiveMsg:function(e){return{type:"RECEIVE_MESSAGE",data:e}}},lr=Object(l.c)((function(e){return{user:e.user,selectedConversation:e.chat.selectedConversation,conversations:e.chat.conversations,err:e.chat.err}}),or)((function(e){var t=e.sendMsgSuccess,a=e.reset,c=e.user,s=e.err,i=e.getConversations,o=e.selectedConversation,l=e.conversations,u=e.selectConversation,m=e.loadMessages,d=e.sendMessage,p=e.receiveMsg;Object(n.useEffect)((function(){return c&&i(),ir.on("new_msg",(function(e){p(e);var t=document.querySelector(".messages");if(t){var a=t.scrollHeight;t.scrollTo(0,a)}})),ir.on("received",(function(e){t(e.receiver,e.profilePic,e.message);var a=document.querySelector(".messages");if(a){var n=a.scrollHeight;a.scrollTo(0,n)}})),function(){return a()}}),[]);return r.a.createElement(ar,{handleSelectConversation:function(e){u(e),m(e)},handleSendMessage:function(e,t){d(e,c.profilePic,t)},selected:o,conversations:l,err:s})})),ur=Object(l.c)((function(e){return{user:e.user,notifList:e.notif.notifications}}),{})((function(e){var t=e.notifList;return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement(ie,{notifList:t}))})),mr=Object(l.c)((function(e){return{user:e.user,notif:e.notif.current_notif}}))((function(e){var t=e.user,a=e.notif;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(we,{variant:"info",msg:[a]}),r.a.createElement(fe.c,null,r.a.createElement(fe.a,{exact:!0,path:"/confirmation/:token",component:null===t?Oa:3===t.complete?Kn:fn}),r.a.createElement(fe.a,{exact:!0,path:"/resetPassword/:token",component:null===t?ya:3===t.complete?Kn:fn}),r.a.createElement(fe.a,{exact:!0,path:"/forgotPassword",component:null===t?ca:3===t.complete?Kn:fn}),r.a.createElement(fe.a,{exact:!0,path:"/register",component:null===t?Ue:3===t.complete?Kn:fn}),r.a.createElement(fe.a,{exact:!0,path:"/login",component:null===t?Yt:3===t.complete?Kn:fn}),r.a.createElement(fe.a,{exact:!0,path:"/",component:null!==t?3===t.complete?Kn:fn:Yt}),r.a.createElement(fe.a,{exact:!0,path:"/profile",component:null!==t?3===t.complete?Kn:fn:Yt}),r.a.createElement(fe.a,{exact:!0,path:"/activity",component:null!==t?3===t.complete?$n:fn:Yt}),r.a.createElement(fe.a,{exact:!0,path:"/chat",component:null!==t?3===t.complete?lr:fn:Yt}),r.a.createElement(fe.a,{exact:!0,path:"/notif",component:null!==t?3===t.complete?ur:fn:Yt}),r.a.createElement(fe.a,{exact:!0,path:"/browse",component:null!==t?3===t.complete?Wt:fn:Yt}),r.a.createElement(fe.a,{exact:!0,path:"/search",component:null!==t?3===t.complete?Wt:fn:Yt}),r.a.createElement(fe.a,{exact:!0,path:"/completeProfile",component:null!==t?fn:Yt}),r.a.createElement(fe.a,{path:"",component:$t})))}));var dr=function(e){return Object(n.useEffect)((function(){e.store.dispatch(p());ir.on("new_notif",(function(t){e.store.dispatch(d(t))})),ir.on("openedNotif",(function(){e.store.dispatch(m())}))}),[]),ir.on("connect",(function(){e.store.dispatch({type:"REJOIN_ROOM"})})),r.a.createElement("div",{className:"App"},r.a.createElement(le,null),r.a.createElement(mr,null),r.a.createElement(Ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pr=a(27),Er=a(308),fr=a(10),br=a.n(fr),gr=a(2),hr=a(80),Or=a(93),vr=a.n(Or),xr=br.a.mark(yr),kr=br.a.mark((function e(t){var a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,vr.a.post("http://localhost:5000/register",a);case 4:if(!(n=e.sent).data.isValid){e.next=12;break}return e.next=8,Object(gr.e)(Ie(a));case 8:return e.next=10,Object(gr.e)(Object(hr.push)("/login"));case 10:e.next=24;break;case 12:if(!n.data.errUsername||n.data.errEmail){e.next=17;break}return e.next=15,Object(gr.e)(Re(n.data.errUsername));case 15:e.next=24;break;case 17:if(!n.data.errEmail||n.data.errUsername){e.next=22;break}return e.next=20,Object(gr.e)(Re(n.data.errEmail));case 20:e.next=24;break;case 22:return e.next=24,Object(gr.e)(Re("Username and email already exist"));case 24:return e.next=26,Object(gr.c)(4e3);case 26:return e.next=28,Object(gr.e)({type:"RESET_STATE"});case 28:e.next=35;break;case 30:if(e.prev=30,e.t0=e.catch(1),!e.t0.response){e.next=35;break}return e.next=35,Object(gr.e)(Re("error.response.statusText"));case 35:case"end":return e.stop()}}),e,null,[[1,30]])})),Sr=br.a.mark((function e(t){var a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,e.prev=1,e.next=4,vr.a.post("http://localhost:5000/confirmEmail",{token:a});case 4:if("success"!==(n=e.sent).data){e.next=10;break}return e.next=8,Object(gr.e)({type:"EMAIL_CONFIRMATION_SUCCESS"});case 8:e.next=13;break;case 10:if("error"!==n.data){e.next=13;break}return e.next=13,Object(gr.e)({type:"EMAIL_CONFIRMATION_ERROR"});case 13:e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(1),!e.t0.response){e.next=20;break}return e.next=20,Object(gr.e)({type:"EMAIL_CONFIRMATION_ERROR"});case 20:case"end":return e.stop()}}),e,null,[[1,15]])}));function yr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("INSCRIPTION_USER",kr);case 2:return e.next=4,Object(gr.g)("EMAIL_CONFIRMATION",Sr);case 4:case"end":return e.stop()}}),xr)}var jr=function(e,t){return vr()(Object(i.a)({},e,{headers:{Authorization:t}}))},wr=br.a.mark(Cr),_r=br.a.mark((function e(t){var a,n,r,c,s;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,n=a.username,r=a.password,e.next=6,Object(gr.b)(jr,{url:"http://localhost:5000/login",data:{username:n,password:r},method:"post"});case 6:if(!(c=e.sent).data.isValid){e.next=25;break}return s=c.data.user,e.next=11,Object(gr.e)({type:"LOGIN_USER_SUCCESS"});case 11:return e.next=13,Object(gr.e)(St(s));case 13:if(ir.emit("join",{id:s.id}),3!==s.complete){e.next=21;break}return e.next=17,Object(gr.e)(p());case 17:return e.next=19,Object(gr.e)(Object(hr.push)("/profile"));case 19:e.next=23;break;case 21:return e.next=23,Object(gr.e)(Object(hr.push)("/completeProfile"));case 23:e.next=31;break;case 25:return e.next=27,Object(gr.e)({type:"LOGIN_USER_ERROR_FIELD",errorField:c.data.errorField});case 27:return e.next=29,Object(gr.c)(4e3);case 29:return e.next=31,Object(gr.e)({type:"RESET_STATE"});case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(1),!e.t0.response){e.next=38;break}return e.next=38,Object(gr.e)({type:"LOGIN_USER_ERROR",error:"error.response.statusText"});case 38:case"end":return e.stop()}}),e,null,[[1,33]])}));function Cr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("LOGIN_USER",_r);case 2:case"end":return e.stop()}}),wr)}var Ir=br.a.mark(Nr),Rr=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/logout",data:{id:t},method:"post"},a);case 9:if(!e.sent){e.next=15;break}return e.next=13,Object(gr.e)({type:"CLEAR_USER_INFORMATION"});case 13:return e.next=15,Object(gr.e)(Object(hr.push)("/login"));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])}));function Nr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)(u,Rr);case 2:case"end":return e.stop()}}),Ir)}var Tr=br.a.mark(Ar),Lr=br.a.mark((function e(t){var a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,vr.a.post("http://localhost:5000/resetPassword",{token:a.token,pass:a.form.password,c_pass:a.form.confirmPassword});case 4:if(!(n=e.sent).data.reset){e.next=10;break}return e.next=8,Object(gr.e)({type:"RESET_PASSWORD_SUCCESS"});case 8:e.next=12;break;case 10:return e.next=12,Object(gr.e)(Xt(n.data.error));case 12:return e.next=14,Object(gr.c)(4e3);case 14:return e.next=16,Object(gr.e)({type:"RESET_STATE"});case 16:return e.next=18,Object(gr.e)(Object(hr.push)("/login"));case 18:e.next=25;break;case 20:if(e.prev=20,e.t0=e.catch(1),!e.t0.response){e.next=25;break}return e.next=25,Object(gr.e)(Xt("Error, please retry"));case 25:case"end":return e.stop()}}),e,null,[[1,20]])})),Ur=br.a.mark((function e(t){var a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vr.a.post("http://localhost:5000/sendResetEmail",{email:t.data.email});case 3:if(!(a=e.sent).data.sent){e.next=9;break}return e.next=7,Object(gr.e)({type:"SEND_EMAIL_SUCCESS"});case 7:e.next=12;break;case 9:if("Email not found"!==a.data.error){e.next=12;break}return e.next=12,Object(gr.e)(Jt("Email not found"));case 12:return e.next=14,Object(gr.c)(4e3);case 14:return e.next=16,Object(gr.e)({type:"RESET_STATE"});case 16:e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(0),!e.t0.response){e.next=23;break}return e.next=23,Object(gr.e)(Jt("Error sending the email, please retry"));case 23:case"end":return e.stop()}}),e,null,[[0,18]])}));function Ar(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("SEND_EMAIL",Ur);case 2:return e.next=4,Object(gr.g)("RESET_PASSWORD",Lr);case 4:case"end":return e.stop()}}),Tr)}var Pr=br.a.mark(Wr),Dr=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.token}));case 3:return t=e.sent,e.next=6,Object(gr.b)(jr,{url:"http://localhost:5000/getOptions",method:"post"},t);case 6:if(!(a=e.sent).data){e.next=12;break}return e.next=10,Object(gr.e)(ft(a.data));case 10:e.next=14;break;case 12:return e.next=14,Object(gr.e)(ft());case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),!e.t0.response){e.next=21;break}return e.next=21,Object(gr.e)(ft());case 21:case"end":return e.stop()}}),e,null,[[0,16]])})),Mr=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return a=e.sent,n=t.data.value,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/createOption",data:{option:n,id:a},method:"post"},r);case 10:if(!(c=e.sent).data.created){e.next=16;break}return e.next=14,Object(gr.e)(gt(c.data.option));case 14:e.next=18;break;case 16:return e.next=18,Object(gr.e)(ht(c.data.error));case 18:return e.next=20,Object(gr.c)(4e3);case 20:return e.next=22,Object(gr.e)({type:"RESET_STATE"});case 22:e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(0),!e.t0.response){e.next=29;break}return e.next=29,Object(gr.e)(ht("there has been an error"));case 29:case"end":return e.stop()}}),e,null,[[0,24]])})),Fr=br.a.mark((function e(t){var a,n,r,c,s,o;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=t.id,e.prev=1,r=Object(i.a)({},a,{id:n}),c=a.interests.map((function(e){return e.value})),r.interests=c,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return s=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/addInfo",data:r,method:"post"},s);case 10:if(!(o=e.sent).data.added){e.next=16;break}return e.next=14,Object(gr.e)(St(o.data.uu));case 14:e.next=18;break;case 16:return e.next=18,Object(gr.e)(Ot(o.data.error));case 18:return e.next=20,Object(gr.c)(4e3);case 20:return e.next=22,Object(gr.e)({type:"RESET_STATE"});case 22:e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(1),!e.t0.response){e.next=29;break}return e.next=29,Object(gr.e)(ht("there has been an error"));case 29:case"end":return e.stop()}}),e,null,[[1,24]])})),Gr=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getLocation",data:{id:t},method:"post"},a);case 9:if(!(n=e.sent).data){e.next=15;break}return e.next=13,Object(gr.e)(kt({marker:n.data.marker,lat:n.data.loc.lat,lng:n.data.loc.lng}));case 13:e.next=17;break;case 15:return e.next=17,Object(gr.e)(Ot(n.data.error));case 17:return e.next=19,Object(gr.c)(4e3);case 19:return e.next=21,Object(gr.e)({type:"RESET_STATE"});case 21:e.next=28;break;case 23:if(e.prev=23,e.t0=e.catch(0),!e.t0.response){e.next=28;break}return e.next=28,Object(gr.e)(ht("there has been an error"));case 28:case"end":return e.stop()}}),e,null,[[0,23]])})),Br=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.loc,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/addLocation",data:{id:n,loc:a},method:"post"},r);case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(1),!e.t0.response){e.next=17;break}return e.next=17,Object(gr.e)(ht("there has been an error"));case 17:return e.next=19,Object(gr.c)(4e3);case 19:return e.next=21,Object(gr.e)({type:"RESET_STATE"});case 21:case"end":return e.stop()}}),e,null,[[1,12]])}));function Wr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_OPTIONS",Dr);case 2:return e.next=4,Object(gr.g)("CREATE_OPTION",Mr);case 4:return e.next=6,Object(gr.g)("ADD_INFO",Fr);case 6:return e.next=8,Object(gr.g)("GET_LOC",Gr);case 8:return e.next=10,Object(gr.g)("ADD_LOCATION",Br);case 10:case"end":return e.stop()}}),Pr)}var Hr=br.a.mark(zr),Vr=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.token}));case 4:return n=e.sent,e.next=7,Object(gr.b)(jr,{url:"http://localhost:5000/getImages",data:{user_id:a},method:"post"},n);case 7:if(!((r=e.sent).data.length>0)){e.next=11;break}return e.next=11,Object(gr.e)({type:"GET_IMAGES_SUCCESS",images:r.data});case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(1),!e.t0.response){e.next=18;break}return e.next=18,Object(gr.e)({type:"GET_IMAGES_ERROR",err:e.t0.response});case 18:case"end":return e.stop()}}),e,null,[[1,13]])})),Kr=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/upload",data:a,method:"post"},r);case 10:if(!e.sent.data){e.next=14;break}return e.next=14,Object(gr.e)(Xa(n));case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(1),!e.t0.response){e.next=21;break}return e.next=21,Object(gr.e)({type:"SEND_IMAGES_ERROR",err:e.t0.response});case 21:case"end":return e.stop()}}),e,null,[[1,16]])})),qr=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.img,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,img_id:a.imgId,isProfilePic:a.isProfilePic},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/deleteImages",data:r,method:"post"},c);case 11:if(!e.sent.data){e.next=15;break}return e.next=15,Object(gr.e)(Xa(n));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(gr.e)({type:"DEL_IMAGES_ERROR",err:e.t0.response});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),Yr=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.imgId,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,img_id:a},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/setProfilePicture",data:r,method:"post"},c);case 11:if(!e.sent.data){e.next=15;break}return e.next=15,Object(gr.e)(Xa(n));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(gr.e)({type:"SET_PROFILE_PIC_ERROR",err:e.t0.response});case 22:case"end":return e.stop()}}),e,null,[[1,17]])}));function zr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_IMAGES",Vr);case 2:return e.next=4,Object(gr.g)("SEND_IMAGES",Kr);case 4:return e.next=6,Object(gr.g)("DEL_IMAGES",qr);case 6:return e.next=8,Object(gr.g)("SET_PROFILE_PIC",Yr);case 8:case"end":return e.stop()}}),Hr)}var Zr=br.a.mark(Jr),$r=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/updateStep",data:{step:t.complete+1,id:t.id},method:"post"},a);case 9:if(!e.sent){e.next=13;break}return e.next=13,Object(gr.e)({type:"INC_STEPPER_SUCCESS"});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}));function Jr(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("INC_STEPPER",$r);case 2:case"end":return e.stop()}}),Zr)}var Xr=br.a.mark(mc),Qr=br.a.mark((function e(t){var a,n,r,c,s,i;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return a=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return n=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getUsers",data:{id:a.id,filtre:t.filtre,indice:t.indice},method:"post"},n);case 9:if(!(r=e.sent)){e.next=21;break}return e.next=13,Object(gr.f)((function(e){return e.users.users}));case 13:return c=e.sent,s=r.data,i=null,i=0!==t.indice?c.concat(s):s,e.next=19,Object(gr.e)(yt(i));case 19:e.next=23;break;case 21:return e.next=23,Object(gr.e)(jt("there has beetrtn an error"));case 23:e.next=29;break;case 25:return e.prev=25,e.t0=e.catch(0),e.next=29,Object(gr.e)(jt("there has been an error1"));case 29:case"end":return e.stop()}}),e,null,[[0,25]])})),ec=br.a.mark((function e(t){var a,n,r,c,s,i,o,l,u;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.methode,n=t.route,r=t.indice,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return c=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return s=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/sortUsers",data:{id:c.id,methode:a,route:n,indice:r},method:"post"},s);case 10:if(!(i=e.sent)){e.next=22;break}return e.next=14,Object(gr.f)((function(e){return e.users.users}));case 14:return o=e.sent,l=i.data,u=null,u=0!==r?o.concat(l):l,e.next=20,Object(gr.e)(yt(u));case 20:e.next=24;break;case 22:return e.next=24,Object(gr.e)(jt("there has been an error"));case 24:e.next=30;break;case 26:return e.prev=26,e.t0=e.catch(1),e.next=30,Object(gr.e)(jt("there has been an error"));case 30:case"end":return e.stop()}}),e,null,[[1,26]])})),tc=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.blocked_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/blockUser",data:{id:n.id,blocked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(gr.e)(_t(a));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),ac=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.deblocked_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/deblockUser",data:{id:n.id,deblocked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(gr.e)({type:"DELETE_BLOCK",id:a});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),nc=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getBlockUser",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(gr.e)({type:"GET_BLOCK_USER_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),rc=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.liked_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/likeUser",data:{username:n.username,id:n.id,liked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=16;break}return c={id:n.id,username:n.username,profilePic:n.profilePic},ir.emit("userLiked",{by:c,receiver:parseInt(a),content:"".concat(n.username," liked you")}),e.next=16,Object(gr.e)(_t(a));case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:case"end":return e.stop()}}),e,null,[[1,18]])})),cc=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dislike_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/dislikeUser",data:{username:n.username,id:n.id,dislike_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=16;break}return c={id:n.id,username:n.username,profilePic:n.profilePic},ir.emit("userUnliked",{by:c,receiver:parseInt(a),content:"".concat(n.username," unliked you")}),e.next=16,Object(gr.e)({type:"DELETE_LIKE",id:a});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:case"end":return e.stop()}}),e,null,[[1,18]])})),sc=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getLikeUser",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(gr.e)({type:"GET_LIKE_USER_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),ic=br.a.mark((function e(t){var a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reported_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/reportUser",data:{id:n.id,reported_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(gr.e)(_t(a));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),oc=br.a.mark((function e(t){var a,n,r,c;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.viewed_user_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/viewProfileUser",data:{username:n.username,id:n.id,viewed_user_id:a},method:"post"},r);case 10:e.sent&&(c={id:n.id,username:n.username,profilePic:n.profilePic},ir.emit("profileViewed",{by:c,receiver:parseInt(a),content:"".concat(n.username," viewed your profile")})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})),lc=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getViewProfileList",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(gr.e)({type:"GET_VP_LIST_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),uc=br.a.mark((function e(){var t,a,n;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/getLikedByList",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(gr.e)({type:"GET_LIKED_BY_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}));function mc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_USERS",Qr);case 2:return e.next=4,Object(gr.g)("BLOCK_USER",tc);case 4:return e.next=6,Object(gr.g)("DEBLOCK_USER",ac);case 6:return e.next=8,Object(gr.g)("GET_BLOCK_USER",nc);case 8:return e.next=10,Object(gr.g)("LIKE_USER",rc);case 10:return e.next=12,Object(gr.g)("DISLIKE_USER",cc);case 12:return e.next=14,Object(gr.g)("DISLIKE_USER_ACT",cc);case 14:return e.next=16,Object(gr.g)("GET_LIKE_USER",sc);case 16:return e.next=18,Object(gr.g)("REPORT_USER",ic);case 18:return e.next=20,Object(gr.g)("VIEW_PROFILE_USER",oc);case 20:return e.next=22,Object(gr.g)("SORT_USERS",ec);case 22:return e.next=24,Object(gr.g)("GET_VP_LIST",lc);case 24:return e.next=26,Object(gr.g)("GET_LIKED_BY",uc);case 26:case"end":return e.stop()}}),Xr)}var dc=br.a.mark(Ec),pc=br.a.mark((function e(t){var a,n,r,c,s,o;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r=Object(i.a)({},a,{id:n}),c=a.interests.map((function(e){return e.value})),r.interests=c,e.next=10,Object(gr.f)((function(e){return e.user.token}));case 10:return s=e.sent,e.next=13,Object(gr.b)(jr,{url:"http://localhost:5000/editProfile",data:r,method:"post"},s);case 13:if(!(o=e.sent).data.result.valid){e.next=19;break}return e.next=17,Object(gr.e)(St(o.data.uu));case 17:e.next=21;break;case 19:return e.next=21,Object(gr.e)({type:"EDIT_INFO_ERROR",error:o.data.err});case 21:return e.next=23,Object(gr.c)(4e3);case 23:return e.next=25,Object(gr.e)({type:"RESET_STATE"});case 25:e.next=32;break;case 27:if(e.prev=27,e.t0=e.catch(1),!e.t0.response){e.next=32;break}return e.next=32,Object(gr.e)(Ot("there has been an error"));case 32:case"end":return e.stop()}}),e,null,[[1,27]])}));function Ec(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("EDIT_INFO",pc);case 2:case"end":return e.stop()}}),dc)}var fc=br.a.mark(vc),bc=br.a.mark((function e(){var t,a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,a={user_id:t},e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return n=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/getMatchs",method:"post",data:a},n);case 10:if(!(r=e.sent).data){e.next=14;break}return e.next=14,Object(gr.e)(nr(r.data));case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),!e.t0.response){e.next=21;break}return e.next=21,Object(gr.e)({type:"GET_CONVERSATIONS_ERROR",err:"An error has occured"});case 21:case"end":return e.stop()}}),e,null,[[0,16]])})),gc=br.a.mark((function e(t){var a,n,r,c,s;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.conv_id,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,conv_id:a},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/loadMessages",method:"post",data:r},c);case 11:if(!(s=e.sent).data){e.next=15;break}return e.next=15,Object(gr.e)(rr(s.data,a));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(gr.e)({type:"LOAD_MESSAGES_ERROR",err:"An error has occured"});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),hc=br.a.mark((function e(t){var a,n,r,c,s,i,o;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.message,e.prev=1,e.next=4,Object(gr.f)((function(e){return e.user}));case 4:return r=e.sent,c={sender:r.id,receiver:a,message:n},e.next=8,Object(gr.f)((function(e){return e.user.token}));case 8:return s=e.sent,e.next=11,Object(gr.b)(jr,{url:"http://localhost:5000/sendMessage",method:"post",data:c},s);case 11:if(!0!==(i=e.sent).data.sent){e.next=17;break}o={id:r.id,username:r.username,profilePic:r.profilePic},ir.emit("chatMessage",{by:o,sender:r.id,receiver:c.receiver,profilePic:i.data.profilePic,message:n,content:"".concat(r.username," sent you a message")}),e.next=23;break;case 17:return e.next=19,Object(gr.e)(cr(a,i.data.err));case 19:return e.next=21,Object(gr.c)(4e3);case 21:return e.next=23,Object(gr.e)({type:"RESET_CHAT_STATE"});case 23:e.next=30;break;case 25:if(e.prev=25,e.t0=e.catch(1),!e.t0.response){e.next=30;break}return e.next=30,Object(gr.e)(cr("An error has occured"));case 30:case"end":return e.stop()}}),e,null,[[1,25]])})),Oc=br.a.mark((function e(){var t;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:t=e.sent,ir.emit("join",{id:t}),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=12;break}return e.next=12,Object(gr.e)(cr("An error has occured"));case 12:case"end":return e.stop()}}),e,null,[[0,7]])}));function vc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_CONVERSATIONS",bc);case 2:return e.next=4,Object(gr.g)("LOAD_MESSAGES",gc);case 4:return e.next=6,Object(gr.g)("SEND_MESSAGE",hc);case 6:return e.next=8,Object(gr.g)("REJOIN_ROOM",Oc);case 8:case"end":return e.stop()}}),fc)}var xc=br.a.mark(jc),kc=br.a.mark((function e(){var t,a,n,r;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,a={user_id:t},e.next=7,Object(gr.f)((function(e){return e.user.token}));case 7:return n=e.sent,e.next=10,Object(gr.b)(jr,{url:"http://localhost:5000/getNotif",method:"post",data:a},n);case 10:if(!(r=e.sent).data){e.next=14;break}return e.next=14,Object(gr.e)({type:"GET_NOTIF_SUCCESS",notif:r.data});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),e.t0.response;case 19:case"end":return e.stop()}}),e,null,[[0,16]])})),Sc=br.a.mark((function e(){var t,a;return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(gr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(gr.b)(jr,{url:"http://localhost:5000/openNotif",method:"post"},a);case 9:return e.next=11,Object(gr.e)(m());case 11:ir.emit("openNotif",{id:t}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0.response;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})),yc=br.a.mark((function e(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(gr.c)(4e3);case 3:return e.next=5,Object(gr.e)({type:"RESET_NOTIF_STATE"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}));function jc(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.g)("GET_NOTIF",kc);case 2:return e.next=4,Object(gr.g)("OPEN_NOTIF",Sc);case 4:return e.next=6,Object(gr.g)("NEW_NOTIF",yc);case 6:case"end":return e.stop()}}),xc)}var wc=br.a.mark(_c);function _c(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(gr.a)([Object(gr.d)(yr),Object(gr.d)(Cr),Object(gr.d)(Nr),Object(gr.d)(Ar),Object(gr.d)(Wr),Object(gr.d)(zr),Object(gr.d)(Jr),Object(gr.d)(mc),Object(gr.d)(Ec),Object(gr.d)(vc),Object(gr.d)(jc)]);case 2:case"end":return e.stop()}}),wc)}var Cc=a(125),Ic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSCRIPTION_USER":return{registerStatus:"loading"};case"INSCRIPTION_USER_SUCCESS":return{registerStatus:"success"};case"INSCRIPTION_USER_ERROR":return{registerStatus:"error",error:t.error};case"EMAIL_CONFIRMATION":return{emailConfirmation:"loading"};case"EMAIL_CONFIRMATION_SUCCESS":return{emailConfirmation:"success"};case"EMAIL_CONFIRMATION_ERROR":return{emailConfirmation:"error"};case"RESET_STATE":return"initial state";default:return e}},Rc={status:"offline",error:null},Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return{status:"loading",error:null};case"LOGIN_USER_SUCCESS":return{status:"online",error:null};case"LOGIN_USER_ERROR":return{status:"error",error:t.error};case"LOGIN_USER_ERROR_FIELD":return{status:"errorField",error:t.errorField};case"CLEAR_USER_INFORMATION":return Rc;case"RESET_STATE":return"initial state";default:return e}},Tc=a(603),Lc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD":return{status:"loading",error:null};case"RESET_PASSWORD_SUCCESS":return{status:"success",error:null};case"RESET_PASSWORD_ERROR":return{status:"error",error:t.error};case"SEND_EMAIL":return{status:"loading",errors:null};case"SEND_EMAIL_SUCCESS":return{status:"success",errors:null};case"SEND_EMAIL_ERROR":return{status:"error",errors:t.error};case"RESET_STATE":return"initial state";default:return e}},Uc=a(24),Ac={selectOptions:[],selectLoading:!1},Pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONS":return{selectOptions:[],selectLoading:!0};case"GET_OPTIONS_SUCCESS":return{selectOptions:t.options,selectLoading:!1};case"CREATE_OPTION":return{selectOptions:Object(Uc.a)(e.selectOptions),selectLoading:!0};case"CREATE_OPTION_SUCCESS":return{selectOptions:[].concat(Object(Uc.a)(e.selectOptions),[t.option]),selectLoading:!1};case"CREATE_OPTION_ERROR":case"ADD_INFO_ERROR":return{selectOptions:Object(Uc.a)(e.selectOptions),selectLoading:!1,error:[t.error]};case"EDIT_INFO_ERROR":return{selectOptions:Object(Uc.a)(e.selectOptions),selectLoading:!1,error:t.error};case"RESET_STATE":return{selectOptions:Object(Uc.a)(e.selectOptions),selectLoading:!1};default:return e}},Dc={images:[],isImages:!1,err:""},Mc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_IMAGES":return{images:null,isImages:!1};case"GET_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"GET_IMAGES_ERROR":return{err:t.err,isImages:!1};case"SEND_IMAGES":return{images:null,isImages:!1};case"SEND_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"SEND_IMAGES_ERROR":return{err:t.err,isImages:!1};case"DEL_IMAGES":return{images:null,isImages:!1};case"DEL_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"DEL_IMAGES_ERROR":return{err:t.err,isImages:!1};case"SET_PROFILE_PIC":return{images:null,isImages:!1};case"SET_PROFILE_PIC_SUCCESS":return{images:t.images,isImages:!0};case"SET_PROFILE_PIC_ERROR":return{err:t.err,isImages:!1};default:return e}},Fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_SUCCESS":return t.data;case"CLEAR_USER_INFORMATION":return null;case"DEC_STEPPER":return Object(i.a)({},e,{complete:e.complete-1});case"INC_STEPPER_SUCCESS":return Object(i.a)({},e,{complete:e.complete+1});case"ADD_LOCATION_SUCCESS":return Object(i.a)({},e,{marker:t.loc.marker,lat:t.loc.lat,long:t.loc.lng});default:return e}},Gc={status:"DEFAULT STATE",isUsers:!1,users:null,err:null},Bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_SUCCESS":return{status:"success",isUsers:!0,users:t.data};case"GET_USERS_ERROR":return{status:"error",isUsers:!1,err:t.err};case"DISLIKE_USER":for(var a=t.dislike_user_id,n=Object(Uc.a)(e.users),r=0;r<n.length;r++)if(n[r].user.id===parseInt(a)){"iLike"===n[r].user.like?n[r].user.like=null:"match"===n[r].user.like&&(n[r].user.like="heLiked");break}return{status:"success",isUsers:!0,users:n};case"DELETE_USER":for(var c=t.id,s=Object(Uc.a)(e.users),i=0;i<s.length;i++)if(s[i].user.id===parseInt(c)){s.splice(i,1);break}return{status:"success",isUsers:!0,users:s};case"RESET_STATE_USERS":return Gc;default:return e}},Wc={isUsers:!1,users:null},Hc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BLOCK_USER_SUCCESS":return{isUsers:!0,users:t.data};case"DELETE_BLOCK":for(var a=t.id,n=e.users,r=0;r<n.length;r++)if(n[r].id===parseInt(a)){n.splice(r,1);break}return{isUsers:!0,users:n};default:return e}},Vc={isUsers:!1,users:null},Kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIKE_USER_SUCCESS":return{isUsers:!0,users:t.data};case"DELETE_LIKE":var a=t.id,n=[];e.users&&(n=Object(Uc.a)(e.users));for(var r=0;r<n.length;r++)n[r].id===parseInt(a)&&(n.splice(r,1),r--);return{isUsers:!0,users:n};default:return e}},qc={isUsers:!1,users:null},Yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIKED_BY_SUCCESS":return{isUsers:!0,users:t.data};case"LIKE_USER":var a=t.liked_user_id,n=[];e.users&&(n=Object(Uc.a)(e.users));for(var r=0;r<n.length;r++)if(n[r].id===parseInt(a)){"heLiked"===n[r].like&&(n[r].like="match");break}return{status:"success",isUsers:!0,users:n};case"DISLIKE_USER_ACT":var c=t.dislike_user_id,s=[];e.users&&(s=Object(Uc.a)(e.users));for(r=0;r<s.length;r++)if(s[r].id===parseInt(c)){"match"===s[r].like&&(s[r].like="heLiked");break}return{status:"success",isUsers:!0,users:s};default:return e}},zc={selectedConversation:{},conversations:[]},Zc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONVERSATIONS_SUCCESS":return{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:t.data};case"SELECT_CONVERSATION":for(var a=t.id,n=Object(Uc.a)(e.conversations),r=0;r<n.length;r++)if(n[r].id===parseInt(a))return{selectedConversation:n[r],conversations:Object(Uc.a)(e.conversations)};break;case"LOAD_MESSAGES_SUCCESS":for(var c=t.conv_id,s=Object(Uc.a)(e.conversations),o=0;o<s.length;o++)if(s[o].id===parseInt(c))return s[o].messages=t.data,{selectedConversation:Object(i.a)({},e.selectedConversation,{messages:t.data}),conversations:s};break;case"SEND_MESSAGE_SUCCESS":for(var l=t.id,u={path:t.profilePic,message:t.message,isMyMessage:!0},m=Object(Uc.a)(e.conversations),d=0;d<m.length;d++)if(m[d].id===parseInt(l)){m[d].messages&&m[d].messages.push(u);break}return e.selectedConversation.id===parseInt(l)?{selectedConversation:Object(i.a)({},e.selectedConversation,{messages:m[d].messages}),conversations:m}:{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:m};case"SEND_MESSAGE_ERROR":return{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:Object(Uc.a)(e.conversations),err:t.err};case"RECEIVE_MESSAGE":for(var p=t.data.sender,E={path:t.data.profilePic,message:t.data.message,isMyMessage:!1},f=Object(Uc.a)(e.conversations),b=0;b<f.length;b++)if(f[b].id===parseInt(p)){f[b].messages&&f[b].messages.push(E);break}return e.selectedConversation.id===parseInt(p)?{selectedConversation:Object(i.a)({},e.selectedConversation,{messages:f[b].messages}),conversations:f}:{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:f};case"RESET_CHAT_STATE":return{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:Object(Uc.a)(e.conversations)};case"RESET_STATE":return zc;default:return e}},$c={current_notif:"",notifications:[]},Jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTIF_SUCCESS":var a=Object(Uc.a)(e.notifications);return a.forEach((function(e){0===e.seen&&(e.seen=1)})),{current_notif:"",notifications:a};case"NEW_NOTIF":var n={by:t.data.by,content:t.data.content,seen:0},r=Object(Uc.a)(e.notifications);return r.unshift(n),{current_notif:t.data.content,notifications:r};case"GET_NOTIF_SUCCESS":return{current_notif:"",notifications:t.notif};case"RESET_NOTIF_STATE":return{current_notif:"",notifications:Object(Uc.a)(e.notifications)};default:return e}},Xc={isUsers:!1,users:null},Qc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VP_LIST_SUCCESS":return{isUsers:!0,users:t.data};case"LIKE_USER":var a=t.liked_user_id,n=[];e.users&&(n=Object(Uc.a)(e.users));for(var r=0;r<n.length;r++)if(n[r].id===parseInt(a)){null===n[r].like?n[r].like="iLike":"heLiked"===n[r].like&&(n[r].like="match");break}return{status:"success",isUsers:!0,users:n};case"DISLIKE_USER_ACT":var c=t.dislike_user_id,s=[];e.users&&(s=Object(Uc.a)(e.users));for(r=0;r<s.length;r++)if(s[r].id===parseInt(c)){"iLike"===s[r].like?s[r].like=null:"match"===s[r].like&&(s[r].like="heLiked");break}return{status:"success",isUsers:!0,users:s};default:return e}},es=function(e){return Object(pr.c)({router:Object(Cc.b)(e),register:Ic,login:Nc,user:Fc,users:Bc,resetPassword:Lc,addInfo:Pc,images:Mc,blockList:Hc,likeList:Kc,likedByList:Yc,viewProfileList:Qc,chat:Zc,notif:Jc,form:Tc.a})},ts=a(56),as=a(275),ns=a(164),rs=a(306),cs=a.n(rs),ss=Object(ts.a)(),is=Object(Er.a)(),os={key:"use-app",storage:cs.a,whitelist:"user"},ls=Object(ns.a)(os,es(ss));var us=a(307),ms=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pr.d,a=Object(pr.e)(ls,e,t(Object(pr.a)(Object(as.a)(ss),is)));return is.run(_c),a}(),ds=Object(ns.b)(ms);s.a.render(r.a.createElement(l.a,{store:ms},r.a.createElement(us.PersistGate,{loading:null,persistor:ds},r.a.createElement(Cc.a,{history:ss},r.a.createElement(dr,{store:ms})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[324,1,2]]]);
//# sourceMappingURL=main.86fd8608.chunk.js.map